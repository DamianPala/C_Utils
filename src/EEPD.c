/*=======================================================================================*
 * @file    EEPD.c
 * @author  Damian Pala
 * @date    19-03-2017
 * @brief   This file contains all implementations for EEPD module.
 *======================================================================================*/

/**
 * @addtogroup EEPD Description
 * @{
  * @brief Module for emulating EEPROM memory.
 */

/*======================================================================================*/
/*                       ####### PREPROCESSOR DIRECTIVES #######                        */
/*======================================================================================*/
/*-------------------------------- INCLUDE DIRECTIVES ----------------------------------*/
#include <stdint.h>
#include <stdbool.h>
#include <string.h>

#include "EEPD.h"

/*----------------------------- LOCAL OBJECT-LIKE MACROS -------------------------------*/

/*---------------------------- LOCAL FUNCTION-LIKE MACROS ------------------------------*/

/*======================================================================================*/
/*                      ####### LOCAL TYPE DECLARATIONS #######                         */
/*======================================================================================*/
/*-------------------------------- OTHER TYPEDEFS --------------------------------------*/

/*------------------------------------- ENUMS ------------------------------------------*/

/*------------------------------- STRUCT AND UNIONS ------------------------------------*/

/*======================================================================================*/
/*                         ####### OBJECT DEFINITIONS #######                           */
/*======================================================================================*/
/*--------------------------------- EXPORTED OBJECTS -----------------------------------*/

/*---------------------------------- LOCAL OBJECTS -------------------------------------*/
uint8_t EEPROM[EEPROM_EMULATION_SIZE];

/*======================================================================================*/
/*                    ####### LOCAL FUNCTIONS PROTOTYPES #######                        */
/*======================================================================================*/

/*======================================================================================*/
/*                  ####### EXPORTED FUNCTIONS DEFINITIONS #######                      */
/*======================================================================================*/
void EEPD_Init(void)
{
  memset((void*)EEPROM, EEPROM_INIT_VALUE, EEPROM_SIZE);
}

uint8_t EEPD_ReadByte(uint32_t address)
{
  return EEPROM[address - EEPROM_START_ADDR];
}

void EEPD_WriteByte(uint32_t address, uint8_t byte)
{
  EEPROM[address - EEPROM_START_ADDR] = byte;
}

/*======================================================================================*/
/*                   ####### LOCAL FUNCTIONS DEFINITIONS #######                        */
/*======================================================================================*/

/**
 * @}
 */
